# InvestBot
Это мой первый телеграм-бот. Он работает с TinkoffAPI. С помощью
него возможно будет получать информацию об аккаунте, портфеле,
ценных бумагах, покупать/продавать бумаги, получать информацию
о ходе цены бумаги за период.

## Обновления
### 01.07.2023

- Метод getAccounts(), позволяющий узнать список всех аккантов<br>
Активируется командой /getAccounts<br>
- Метод PayIn(), позволяющий пополнить счет в песочнице (пока только<br>
первый, который вы создали). Команда:<br>
/PayIn amount<br>
amount - сумма в рублях. Можно в виде десятчиного числа (например: 130.50)
- Метод GetSandboxPortfolio(), позволяющий узнать баланс счета в рублях, который<br>
указан в качестве параметра в сообщении. Команда: <br>
/portfolio account_id<br>
где account_id - номер счета в песочнице. В случае, если такого счета не существует,<br>
будет выведено соответствующее сообщение

### 12.02.2024

- Изменены методы в core_bot.py, отвечающие за получение исторических свечей за<br>
запрашиваемый период. Теперь можно получать максимально актуальные данные и при<br>
нормально их сохранять и считывать

### 23.02.2024

- Добавлен графический интерфейс пользователя, для возможности статистики по тестированию
торговых стратегий.<br>На данный момент присутствует только возможность отображения диаграммы с
соотношением прибыльных и <br>убыточных сделок. Но также планируется ввести график отображения 
доходности портфеля за период торговли.
- TODO: сделать получение исторических данных прямо из интерфейса программы, не используя для этого
телеграм-бот.
- Теперь алгоритм, моделирующий торговлю, сохраняет необходимые для анализа данные по состоянию портфеля<br>
в каждый момент времени и данные по сделкам в датафреймы, а также в CSV
- TODO: планируется подключить базу данных на PostgreSQL и ORM для взаимодействия с ней
- Лог торговли по историческим данным также записывается в файл, помимо консоли

### 01.03.2024

- Добавлена возможность отображения графика доходности на при моделировании торговли за определенный период<br>
- Добавлен код, реализующий выставление стоп-маркетов на продажу при покупке активов. Стоп-маркеты работают
как предохранительный клапан.

### 24.03.2024

- Добавлена база данных для хранения информации о котировках, инструментах и другой информации, связанной<br>
с инвестициями
- Добавлены методы, позволяющие выгрузить по TinkoffInvestAPI данные обо всех активах и инструментах Tinkoff.<br>
- Теперь при выгрузке инструментов учитывается иерархия: "Актив" > "Параметр" > "Инструмент" (но это пока не учтено)<br>
в схеме БД!)
- Обновление метода core_bot.get_candles(): теперь можно выгружать котировки по идентификатору instrument_uid